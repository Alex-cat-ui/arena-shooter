Godot Engine v4.6.1.stable.mono.official.14d19694e - https://godotengine.org


============================================================
STEALTH ROOM COMBAT FIRE TEST
============================================================
[Player] Ready
STEALTH_TEST_BOOTSTRAP_v20260216
ENEMY_RUNTIME_MARKER_v20260216
RING_POLICY_ACTIVE_v20260216
[PASS] stealth fire: controller exists
[PASS] stealth fire: player exists
[PASS] stealth fire: enemy exists
[PASS] stealth fire: player ability system wired
[PASS] stealth fire: player projectile system wired
[PASS] stealth fire: combat system exists
[PASS] stealth fire: ability wired to combat
[EnemyStealthTrace] id=9300 state=CALM room_alert=CALM intent=0 los=false susp=0.000 vis=0.167 dist=inf last_seen_age=inf facing_delta=0.000
[PASS] stealth fire: fallback profile is disabled before firing
[PASS] stealth fire: first-attack delay is not armed before first valid firing solution
[EnemyStealthTrace] id=9300 state=COMBAT room_alert=COMBAT intent=0 los=true susp=1.000 vis=0.167 dist=500.0 last_seen_age=0.00 facing_delta=3.142
[EnemyStealthTrace] id=9300 state=COMBAT room_alert=COMBAT intent=4 los=true susp=1.000 vis=0.167 dist=500.0 last_seen_age=0.00 facing_delta=0.000
[CombatSystem] Player took 1 damage from contact_enemy_shotgun (HP: 100 -> 99)
[EnemyStealthTrace] id=9300 state=COMBAT room_alert=COMBAT intent=5 los=true susp=1.000 vis=0.167 dist=500.0 last_seen_age=0.00 facing_delta=1.571
[PASS] stealth fire: enemy fires at least once in COMBAT
[PASS] stealth fire: production weapon event is shotgun
[PASS] stealth fire: combat system applies enemy shot damage to player
[PASS] stealth fire: enemy can fire without fallback profile
[PASS] stealth fire: first combat shot honors first-shot timer + telegraph window
[PASS] stealth fire: each enemy damage tick is exactly 1 hp

============================================================
STEALTH ROOM COMBAT FIRE RESULTS: 15/15 passed
============================================================
